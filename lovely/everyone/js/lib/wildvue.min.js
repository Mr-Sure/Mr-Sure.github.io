!function(e,i){"object"==typeof exports&&"object"==typeof module?module.exports=i():"function"==typeof define&&define.amd?define([],i):"object"==typeof exports?exports.WildVue=i():e.WildVue=i()}(this,function(){return function(e){function i(n){if(o[n])return o[n].exports;var t=o[n]={exports:{},id:n,loaded:!1};return e[n].call(t.exports,t,t.exports,i),t.loaded=!0,t.exports}var o={};return i.m=e,i.c=o,i.p="",i(0)}([function(e,i){function o(e){return"[object Object]"===Object.prototype.toString.call(e)}function n(e){var i=e.val(),n=o(i)?i:{".value":i};return n[".key"]=e.key(),n}function t(e,i){for(var o=0;o<e.length;o++)if(e[o][".key"]===i)return o;return-1}function d(e,i,n){var t=!1,d=null;if(o(n)&&n.hasOwnProperty("source")&&(t=n.asObject,d=n.cancelCallback,n=n.source),!o(n))throw new Error("WildVue: invalid Wilddog binding source.");var c=n;"function"==typeof n.ref&&(c=n.ref()),e.$wilddogRefs[i]=c,e._wilddogSources[i]=n,t?l(e,i,n,d):r(e,i,n,d)}function r(e,i,o,d){var r=[];f.util.defineReactive(e,i,r);var l=o.on("child_added",function(e,i){var o=i?t(r,i)+1:0;r.splice(o,0,n(e))},d),c=o.on("child_removed",function(e){var i=t(r,e.key());r.splice(i,1)},d),u=o.on("child_changed",function(e){var i=t(r,e.key());r.splice(i,1,n(e))},d),s=o.on("child_moved",function(e,i){var o=t(r,e.key()),n=r.splice(o,1)[0],d=i?t(r,i)+1:0;r.splice(d,0,n)},d);e._wilddogListeners[i]={child_added:l,child_removed:c,child_changed:u,child_moved:s}}function l(e,i,o,t){f.util.defineReactive(e,i,{});var d=o.on("value",function(o){e[i]=n(o)},t);e._wilddogListeners[i]={value:d}}function c(e,i){var o=e._wilddogSources&&e._wilddogSources[i];if(!o)throw new Error('WildVue: unbind failed: "'+i+'" is not bound to a Wilddog reference.');var n=e._wilddogListeners[i];for(var t in n)o.off(t,n[t]);e[i]=null,e.$wilddogRefs[i]=null,e._wilddogSources[i]=null,e._wilddogListeners[i]=null}function u(e){e.$wilddogRefs||(e.$wilddogRefs=Object.create(null),e._wilddogSources=Object.create(null),e._wilddogListeners=Object.create(null))}function s(e){f=e,f.mixin(a);var i=f.config.optionMergeStrategies;i.wilddog=i.methods,f.prototype.$bindAsObject=function(e,i,o){u(this),d(this,e,{source:i,asObject:!0,cancelCallback:o})},f.prototype.$bindAsArray=function(e,i,o){u(this),d(this,e,{source:i,cancelCallback:o})},f.prototype.$unbind=function(e){c(this,e)}}var f,a={init:function(){var e=this.$options.wilddog;if(e){u(this);for(var i in e)d(this,i,e[i])}},beforeDestroy:function(){if(this.$wilddogRefs){for(var e in this.$wilddogRefs)this.$wilddogRefs[e]&&this.$unbind(e);this.$wilddogRefs=null,this._wilddogSources=null,this._wilddogListeners=null}}};"undefined"!=typeof window&&window.Vue&&s(window.Vue),e.exports=s}])});